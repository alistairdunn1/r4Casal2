# Upper limit for moving ranges
ulmr <- 3.267 * amr
# Remove moving ranges greater than ulmr and recalculate amr, Nelson 1982
mr  <- mr[mr < ulmr]
amr <- mean(mr, na.rm = TRUE)
# Calculate standard deviation, Montgomery, 6.33
stdev <- amr / 1.128
# Calculate control limits
lcl <- mu - 2.66  * stdev
ucl <- mu + 2.66  * stdev
if(nlevels(factor(sign(x)))>1) {
# Make the runs test non-parametric
runstest = runs.test(x,threshold = 0, alternative = test, plot = F)
if(is.na(runstest$p.value)) p.value =0.001
pvalue = round(runstest$p.value,3)} else {
pvalue = 0.001
}
return(list(siglim=c(lcl,ucl),p.runs= pvalue))
}
runs_test_residuals <- function(x, test = "two.sided") {
if(!test %in% c("left.sided","right.sided","two.sided"))
stop('test must be one of c("left.sided","right.sided","two.sided")')
# Average moving range
mu = 0
mr  <- abs(diff(x - mu))
amr <- mean(mr, na.rm = TRUE)
# Upper limit for moving ranges
ulmr <- 3.267 * amr
# Remove moving ranges greater than ulmr and recalculate amr, Nelson 1982
mr  <- mr[mr < ulmr]
amr <- mean(mr, na.rm = TRUE)
# Calculate standard deviation, Montgomery, 6.33
stdev <- amr / 1.128
# Calculate control limits
lcl <- mu - 2.66  * stdev
ucl <- mu + 2.66  * stdev
if(nlevels(factor(sign(x)))>1) {
# Make the runs test non-parametric
runstest = runs.test(x,threshold = 0, alternative = test, plot = F)
if(is.na(runstest$p.value)) p.value =0.001
pvalue = round(runstest$p.value,3)} else {
pvalue = 0.001
}
return(list(siglim=c(lcl,ucl),p.runs= pvalue))
}
max_age_ndx = which.max(this_obs$age)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
devtools::install()
library(r4Casal2)
r4Casal2::summarise_estimated_parameters()
?summarise_estimated_parameters
rm(summarise_estimated_parameters)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
?UseMethod
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document()
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
(sapply(strsplit(names(parameter_label), split = "\\["), "[", 2))
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
library(r4Casal2)
.libPaths()
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
this_report$type != "estimate_value"
library(r4Casal2)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
mpd = NULL
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
getwd()
## build bookdown locally
bookdown::render_book(input = "GitBook/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
part = c(1000, 900, 800 ,700 ,600 ,500, 400, 700)
part * (1 - exp(-0.5))
exp(-0.5)
(1 - exp(-0.5)
(1 - exp(-0.5))
1000 * 0.3934693
part * ( exp(-0.5))
part * exp(-0.5)^10
part * exp(-0.5)^10
part * exp(-0.5)^8
part * exp(-0.5)^7
log(1/(1:200))
plot(log((1:200),log(1/(1:200)))
)
plot((1:200),log(1/(1:200)))
length(1900:1995)
1996:2015
length((1996:2015)
length((1996:2015))
length(2016:2021)
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
stop("tab_objects must be a list of more than one object of class 'casal2TAB'")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
#devtools::install()
## devtools::check() doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
#build()
testthat::test_dir("tests/testthat/")
bookdown::render_book(input = "GitBook/")
bookdown::render_book(input = "GitBook/")
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
devtools::install()
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
devtools::install()
library(r4Casal2)
remove.packages("r4Casal2", lib="~/R/win-library/4.1")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
testthat::test_dir("tests/testthat/")
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
library(r4Casal2)
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
library(devtools)
library(roxygen2)
document();
build()
testthat::test_dir("tests/testthat/")
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
# build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
exit
build package
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
library(root)
install.packages("root")
# this builds all the help files
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
?build
library(devtools)
library(roxygen2)
document();
build()
# devtools::install()
# devtools::check() # doesn't like how we have put Casal2 in the Suggests:
testthat::test_dir("tests/testthat/")
## build bookdown locally
bookdown::render_book(input = "GitBook/")
build()
devtools::build(binary = TRUE, args = c('--preclean'))
.Last.error
devtools::build(binary = TRUE, args = c('--preclean'))
library(devtools)
library(roxygen2)
document
document("r4Casal2");
build()
build
build("r4Casal2")
testthat::test_dir("r4Casal2/tests/testthat/")
bookdown::render_book(input = "r4Casal2/GitBook/")
devtools::build(binary = TRUE, args = c('--preclean'))
devtools::build("r4Casal2", binary = TRUE, args = c('--preclean'))
